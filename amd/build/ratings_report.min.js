define("local_datacurso_ratings/ratings_report",["exports","core/ajax"],(function(_exports,_ajax){var obj;
/**
   * TODO describe module get_ratings_report
   *
   * @module     local_datacurso_ratings/get_ratings_report
   * @copyright  2025 Industria Elearning <info@industriaelearning.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_ajax=(obj=_ajax)&&obj.__esModule?obj:{default:obj};_exports.init=()=>{const tbody=document.querySelector("#local-dcr-report-body"),spinner=document.querySelector(".report-spinner"),emptyMsg=document.querySelector(".report-empty"),filterInput=document.querySelector(".report-filter");document.querySelector(".btn-export");tbody&&(spinner.style.display="inline-block",_ajax.default.call([{methodname:"local_datacurso_ratings_get_ratings_report",args:{}}])[0].then((data=>{spinner.style.display="none",tbody.innerHTML="",data&&0!==data.length?(emptyMsg.style.display="none",data.forEach((row=>{const tr=document.createElement("tr");tr.innerHTML="\n                    <td>".concat(row.course,"</td>\n                    <td>").concat(row.activity,"</td>\n                    <td>").concat(row.likes,"</td>\n                    <td>").concat(row.dislikes,"</td>\n                    <td>").concat(row.approvalpercent,"%</td>\n                    <td>").concat(row.comments.join("</br>"),"</td>\n                "),tbody.appendChild(tr)})),filterInput.addEventListener("input",(()=>{const term=filterInput.value.toLowerCase();tbody.querySelectorAll("tr").forEach((tr=>{const text=tr.textContent.toLowerCase();tr.style.display=text.includes(term)?"":"none"}))}))):emptyMsg.style.display="block"})).catch((err=>{spinner.style.display="none",emptyMsg.style.display="block",console.error("Error al traer data: ",err)})))}}));

//# sourceMappingURL=ratings_report.min.js.map