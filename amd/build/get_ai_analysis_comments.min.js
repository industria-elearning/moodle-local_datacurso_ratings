define("local_datacurso_ratings/get_ai_analysis_comments",["exports","core/ajax","core/notification","core/str"],(function(_exports,_ajax,_notification,_str){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * AI Analysis Comments Module.
   *
   * @module     local_datacurso_ratings/get_ai_analysis_comments
   * @copyright  2025 Industria Elearning <info@industriaelearning.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=_exports.default=void 0,_ajax=_interopRequireDefault(_ajax),_notification=_interopRequireDefault(_notification);const init=()=>{document.addEventListener("click",(async function(e){if(e.target.classList.contains("btn-generate-ai-activitie")||e.target.closest(".btn-generate-ai-activitie")){e.preventDefault();const button=e.target.closest(".btn-generate-ai-activitie"),cmid=button.getAttribute("data-cmid"),resultContainer=button.closest(".mb-3").querySelector(".ai-analysis-result");if(!cmid||!resultContainer)return void console.warn("Missing cmid or result container");const generatingText=await(0,_str.get_string)("generatecommentaiprocess","local_datacurso_ratings");resultContainer.innerHTML='<div class="text-muted">\n                <i class="fa fa-spinner fa-spin"></i> '.concat(generatingText,"\n            </div>"),_ajax.default.call([{methodname:"local_datacurso_ratings_get_ai_analysis_comments",args:{cmid:parseInt(cmid,10)}}])[0].then((async data=>{const analysisTitle=await(0,_str.get_string)("analysisresult","local_datacurso_ratings");resultContainer.innerHTML='\n                    <div class="alert alert-info p-2 mb-2">\n                        <strong>'.concat(analysisTitle,"</strong><br>\n                        ").concat(data.ai_analysis_comment,"\n                    </div>")})).catch(_notification.default.exception)}}))};_exports.init=init;var _default={init:init};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=get_ai_analysis_comments.min.js.map