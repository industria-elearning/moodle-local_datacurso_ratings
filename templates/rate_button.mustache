{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_datacurso_ratings/rate_button

    TODO describe template report_ratings_course

    Example context (json):
    {
    }
}}

<div class="local-dcr-rate" data-cmid="{{cmid}}">
    <div class="local-dcr-options" style="display:flex; gap:0.5rem; align-items:center;">
        <button type="button" class="btn btn-outline-primary" data-action="rate" data-rating="1" aria-label="{{#str}} like, local_datacurso_ratings {{/str}}" title="üëç Me gusta la actividad">üëç</button>
        <button type="button" class="btn btn-outline-primary" data-action="rate" data-rating="0" aria-label="{{#str}} dislike, local_datacurso_ratings {{/str}}" title="üëé No me gusta la actividad">üëé</button>
    </div>
    
    <div class="local-dcr-feedback" style="display:none; margin-top:0.5rem;">
        <label class="form-label">{{#str}} feedbacklabel, local_datacurso_ratings {{/str}}</label>

        <div class="local-dcr-feedback-options" style="display:flex; flex-wrap:wrap; gap:0.5rem;">
            <!-- Options dislike -->
            <div class="dislike-options" style="display:none;">
                {{#dislikeItems}}
                    <label class="feedback-option btn btn-outline-primary">
                        <input type="radio" name="feedback_choice" value="{{feedbacktext}}">
                        {{feedbacktext}}
                    </label>
                {{/dislikeItems}}
            </div>
            
            <!-- Options like -->
            <div class="like-options" style="display:none;">
                {{#likeItems}}
                    <label class="feedback-option btn btn-outline-primary">
                        <input type="radio" name="feedback_choice" value="{{feedbacktext}}">
                        {{feedbacktext}}
                    </label>
                {{/likeItems}}
            </div>
            
            <!-- Options "Others" -->
            <label class="feedback-option btn btn-outline-secondary">
                <input type="radio" name="feedback_choice" value="other" style="display:none;">
                Otras
            </label>
        </div>

        <!-- Textarea hide default for "Others" -->
        <div id="local-dcr-feedback-textarea" style="display:none; margin-top:0.5rem;">
            <textarea id="local-dcr-feedback-input" class="form-control" rows="3" placeholder="{{#str}} feedbackplaceholder, local_datacurso_ratings {{/str}}"></textarea>
        </div>

        <div class="local-dcr-actions" style="margin-top:0.5rem; display:flex; gap:0.5rem;">
            <button type="button" class="btn btn-primary" data-action="send">{{#str}} send, local_datacurso_ratings {{/str}}</button>
            <button type="button" class="btn btn-secondary" data-action="cancel">{{#str}} cancel, local_datacurso_ratings {{/str}}</button>
        </div>
    </div>
</div>